(function(n){"use strict";const t=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.min.js");jQuery.event.special.touchstart={setup:function(n,t,i){this.addEventListener("touchstart",i,{passive:!t.includes("noPreventDefault")})}};jQuery.event.special.touchmove={setup:function(n,t,i){this.addEventListener("touchmove",i,{passive:!t.includes("noPreventDefault")})}};jQuery.event.special.wheel={setup:function(n,t,i){this.addEventListener("wheel",i,{passive:!0})}};jQuery.event.special.mousewheel={setup:function(n,t,i){this.addEventListener("mousewheel",i,{passive:!0})}};n.validator.addMethod("isNumeric",function(n,t){return this.optional(t)||n.length>0&&/^[0-9]+$/.test(n)},"");n.validator.methods.phone=function(n,t){return this.optional(t)||n.length>9&&n.match(/0\([0-9]{3}\) [0-9]{3} [0-9]{4}/)};n.validator.methods.email=function(n,t){return this.optional(t)||/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)};typeof toastr!="undefined"&&(toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-left",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"8000",extendedTimeOut:"0",showEasing:"swing",hideEasing:"linear"});n("#searchBox").on("input",function(){let t=n('[data-trigger="search-clear"]');const i=n(this).val().toLowerCase();i.length?t.show():t.hide();window.location.pathname.indexOf("/crypt/")===-1&&n.GoPath("/crypt/password/");n(".item").each(function(){let t=n(this).text().toLowerCase();t.indexOf(i)===-1?n(this).hide():n(this).show()})});n('[data-trigger="search-clear"]').on("click",function(t){t.preventDefault();n("#searchBox").val("").trigger("input")});n("#headerSearchMobileInvoker").on("click",function(t){t.preventDefault();n("#headerSearch").toggle(200)});n(".u-main").on("click",function(){window.outerWidth<=767&&n("#headerSearch").hide(200)})};n.extend({initiliazeConfig:t})})(jQuery),function(n){"use strict";n.initiliazeConfig();const w=()=>{n("#sidebar .u-sidebar-nav-menu__link").removeClass("active");let i=window.location.pathname,t=n(`#sidebar .u-sidebar-nav-menu__link[href="${i}"]`);if(t.length===0){let r=i.match(/[^/]+/g);for(let u=0;u<r.length;u++)if(i=r.slice(0,r.length-u).join("/"),t=n(`#sidebar .u-sidebar-nav-menu__link[href="/${i}/"]`),t.length>0)break}let u=n(t).parents("ul:eq(0)"),r=u.attr("id"),f=n(".u-sidebar-nav-menu__item.u-sidebar-nav--opened"),e=`#${r}`;f.attr("data-menu")!==r&&(n(`[data-target="#${r}"]`).click(),n(`[data-menu="${r}"]`).addClass("u-sidebar-nav--opened"));n.closeMenuItems(e);n(t).addClass("active");n.ChartInit()},b=n=>{let t=n.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);return t!==null},h=()=>{n("img[data-src]").attr("src","/img/blank.gif").lazyload()},u=n=>{const t={number:/([0-9])/,upperCase:/([A-Z])/,lowerCase:/([a-z])/},o=n.length,i=o>=12,u=t.upperCase.test(n),f=t.lowerCase.test(n),e=t.number.test(n);r("length",i);r("capital",u);r("small",f);r("number",e);const s=[i,u,f,e].filter(Boolean).length;k(s)},r=(t,i)=>{let r=n("#passwordCriterion").find(`li[data-criterion="${t}"]`);i?r.removeClass("invalid").addClass("valid"):r.removeClass("valid").addClass("invalid")},k=t=>{let i=n("#password-strength-status");i.removeClass();switch(t){case 0:i.html("");break;case 1:i.addClass("veryweak-pass").html("Çok Zayıf");break;case 2:i.addClass("weak-pass").html("Zayıf");break;case 3:i.addClass("medium-pass").html("Orta");break;default:i.addClass("strong-pass").html("Güçlü")}},t=(n,t,i)=>{if(typeof toastr!="undefined")switch(n){case 0:toastr.success(t,i);break;case 1:toastr.warning(t,i);break;default:toastr.error(t,i)}},c=()=>"?gs="+parseInt(Math.random()*1e7),f=()=>{const t=n("form");if(t.find(".lock-submit-loading").length==0){let i=n(t).find('button[type="submit"]');i.hide();let r=i.attr("class");i.after(`<button class="${r} lock-submit-loading" type="button" disabled="">Bekleyin...</button>`)}},i=()=>{const t=n("form");t.find(".lock-submit-loading").remove();t.find('button[type="submit"]').show()},l=()=>{n("#form-identity").validate({highlight:function(t){n(t).addClass("is-invalid");n(t).parents("div.form-group").addClass("error");n(t).parents("div.form-group").find(".invalid-feedback").show()},unhighlight:function(t){n(t).removeClass("is-invalid");n(t).parents("div.form-group").removeClass("error");n(t).parents("div.form-group").find(".invalid-feedback").hide()},errorPlacement:function(t,i){n(i.parents("div.form-group").find(".invalid-feedback")).html(t[0].innerText)},rules:{email:{required:!0,email:!0}},submitHandler:function(r,u){u.preventDefault();f();n.ajax({type:"POST",url:n(r).attr("action")+c(),data:n(r).serialize(),success:function(n){let r=1;n.success&&(r=0,n.data!==""&&setTimeout(function(){window.location.assign(n.data)},1500));t(r,n.message);i()},error:function(n,r,u){n.responseJSON!=null&&t(3,n.responseJSON.message);i();t(3,u,r)}})}}),n("#form-crypt").validate({highlight:function(t){n(t).addClass("is-invalid");n(t).parents("div.form-group").addClass("error");n(t).parents("div.form-group").find(".invalid-feedback").show()},unhighlight:function(t){n(t).removeClass("is-invalid");n(t).parents("div.form-group").removeClass("error");n(t).parents("div.form-group").find(".invalid-feedback").hide()},errorPlacement:function(t,i){n(i.parents("div.form-group").find(".invalid-feedback")).html(t[0].innerText)},submitHandler:function(r,u){u.preventDefault();f();n.ajax({type:"POST",url:n(r).attr("action")+c(),data:n(r).serialize(),success:function(r){let u=r.success?0:1;r.success&&(n("#globalModal").modal("hide"),n("#globalModal").html(""),n.RefreshPath());t(u,r.message);i()},error:function(n,r,u){n.responseJSON!=null&&t(3,n.responseJSON.message);i();t(3,u,r)}})}})},d=async(t,i)=>{const u=await fetch("/api/category/list/"),r=await u.json();if(r.success){let u=n(t);for(const n of r.data){let t=new Option(n.name,n.id,!1,n.id==i);u.append(t)}u.trigger("change")}},g=(t,i)=>{i==null&&(i="#globalModal"),n.get(`/modalpage${t}`,async t=>{n(i).html(t);n(i).modal("show");l();o();s();v();p();n(i).on("hidden.bs.modal",function(){n(i).html("")})})},a=(i,r)=>{confirm("Seçili öğe(leri) Silmek istediğinize emin misiniz?")&&n.post(i,{id:r},function(i){let u=1;if(i.success){u=0;let t=r.split(",");if(t.length>1)for(const i of t)n(`[data-itemid="${i}"]`).remove();else{let t=n(`[data-itemid="${r}"]`);t==null?n.RefreshPath():n(t).remove()}e()}t(u,i.message)}).fail((n,i,r)=>{n.responseJSON!=null&&t(3,n.responseJSON.message),t(3,r,i)})},e=()=>{let t=".delete-item-block",i=n(".hover-area input:checked").length;n(t).find("strong").text(i);i?n(t).addClass("d-block"):n(t).removeClass("d-block")},o=()=>{typeof n.fn.select2!="undefined"&&(n('[data-select2-init="default"]').select2({theme:"bootstrap4",tags:!0}),n('[data-select2-init="modal"]').select2({theme:"bootstrap4",dropdownParent:".modal",tags:!0}))},nt=()=>{n('[data-toggle="tooltip"]').tooltip(),n('[data-toggle="popover"]').popover(),n(".popover-dismiss").popover({trigger:"focus"})},s=()=>{n("[data-toggle-sh]").on("click",function(){let i=n(this).attr("data-toggle-sh"),t=`#${i}`,r=n(t).attr("type");r=="password"?n(t).prop("type","text"):n(t).prop("type","password")})},v=()=>{n("#Password,#PasswordTemp").on("input",function(){u(n(this).val())})},y=(n=12)=>{const i="abcdefghijklmnopqrstuvwxyz",o=i.toUpperCase(),r=i+o+"0123456789";let t="",u=!1,f=!1,e=!1;while(t.length<n||!u||!f||!e){const n=r[Math.floor(Math.random()*r.length)];/[a-z]/.test(n)?u=!0:/[A-Z]/.test(n)?f=!0:/[0-9]/.test(n)&&(e=!0);t+=n}return t},p=()=>{n('[data-event="generate-password"]').on("click",function(){const t=n(this).attr("data-target");if(t){const i=y();n(t).val(i);u(i)}})},tt=()=>{h();l();o();nt();s();v();p();n('[data-target="agreement-check"]').on("click",function(){n("#agreement").prop("checked",!0)});n(".hover-area").on("click",function(){let t=n(this).find('input[type="checkbox"]');t.prop("checked",!t.is(":checked"));e()});n('[data-target="grid-all-select"]').on("click",function(){const t='#grid-list input[name="ItemId"]',i=n(t).length,r=n(`${t}:checked`).length;n(t).prop("checked",i!=r);e()});n("#delete-item").on("click",function(){let t=[];n('#grid-list [name="ItemId"]:checked').each(function(i,r){t.push(n(r).val())});t.length>0&&a(n(this).attr("data-post-url"),t.join(","))});n('[data-target="grid-collapse"]').on("click",function(t){t.preventDefault();n(this).find("i").toggleClass("fa-angle-double-up fa-angle-double-down");let i="hide";n(this).find("i").hasClass("fa-angle-double-up")&&(i="show");n(".collapse").collapse(i)});n("#Password, #ConfirmPassword").on("paste copy",function(n){n.preventDefault()})};n.extend({MenuItemActive:w,IsValidUrl:b,InitLazy:h,CheckPasswordStrength:u,LockSubmit:f,UnlockSubmit:i,AlertMessage:t,AjaxPageInit:tt,OpenModalPage:g,GetCategoryList:d,DeleteItem:a,Select2Init:o,PasswordShowHideInit:s,generatePassword:y})}(jQuery);$(document).on("ready",function(){$.MenuItemActive();$.AjaxPageInit()});